pipeline {
agent {
        docker { image 'debian:latest' }
    }
          environment {
			// The MY_KUBECONFIG environment variable will be assigned the value of a temporary file.
			// For example:
			//   /home/user/.jenkins/workspace/cred_test@tmp/secretFiles/546a5cf3-9b56-4165-a0fd-19e2afe6b31f/kubeconfig.txt
        MY_KUBECONFIG = credentials('111')
		}
stages {
//Начинаем шаги //	
		stage('entrypoint ') {
		dockerImage.inside("--entrypoint=''") {
     echo "Tests passed"
   }
}
		stage('установка софта ') {
				steps {
				sh 'apt update && apt -y install tzdata &&apt -y install apache2'
				}
			}
		stage('Установка Kube ctl') {	
			steps {
				sh 'curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl" '
			}
		}
		//--||    ||--//
stage('kubernetes yaml Deployment') {
	  steps {
	  sh 'ip a'
	  }
     }
    }
}